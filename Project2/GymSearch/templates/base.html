{#
# Copyright 2019 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>GymSearch - on Google Cloud Platform</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://rawgit.com/cezary/JSONForms/master/dist/json-forms.min.js"></script>

    

    <script>

        $(document).ready( function() {

            if(window.location.href.includes("home")){
                console.log("home");
                document.getElementById("gymDiv").style.display = "none";
                document.getElementById("userDiv").style.display = "none";
                $("#user").click(function(){
                    document.getElementById("gymDiv").style.display = "none";
                    document.getElementById("userDiv").style.display = "block";
                });
                $("#gym").click(function(){
                    document.getElementById("userDiv").style.display = "none";
                    document.getElementById("gymDiv").style.display = "block";
                });
            } else if(window.location.href.includes("add")){
                let i = 2;
                document.getElementById('add-new-event').onclick = function () {
                    let template = `
                    Type: <input name="event1type"> &emsp;
                    Time: <input name="event1time"> &emsp;
                    Days: <input name="event1days"> &emsp;
                    Occupancy: <input name="event1occupancy">
                    `;

                    let div = document.createElement('div');
                    div.innerHTML = template;
                    div.id = "event"+i;
                    $('#events').append(div);
                    $("#event"+i).addClass("form-group");
                    $("#event"+i).find('input').each(function() {
                        if($(this).attr('name') ===  "event1type"){
                            $(this).attr('name', "event"+i+"type");
                        } else if($(this).attr('name') ===  "event1time"){
                            $(this).attr('name', "event"+i+"time");
                        } else if($(this).attr('name') ===  "event1days") {
                            $(this).attr('name', "event"+i+"days");
                        } else {
                            $(this).attr('name', "event"+i+"occupancy");
                        }                    
                    });
                    
                    i++;
                }
            }


        });
    </script>

    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
            text-align:center;
        }
    </style
</head>
  <body>
    <div class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <div class="navbar-brand">HomePage</div>
        </div>
        <ul class="nav navbar-nav">
          <li><a href="/">Gyms</a></li>
        </ul>
      </div>
    </div>
    <div class="container">
      {% block content %}{% endblock %}
    </div>
    {{user}}
  </body>
</html>
